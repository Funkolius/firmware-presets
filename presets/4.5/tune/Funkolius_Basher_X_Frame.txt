#$ TITLE: Funkolius - Basher X Frame
#$ FIRMWARE_VERSION: 4.5
#$ CATEGORY: TUNE
#$ STATUS: EXPERIMENTAL
#$ KEYWORDS: freestyle, basher, x-frame, funky
#$ AUTHOR: Funkolius
#$ PARSER: MARKED
#$ DESCRIPTION: Bidirectional DShot is required. Make sure your ESCs are 32-bit or flashed with BlueJay for 8-bit.
#$ DESCRIPTION: PID calculator and supporting material: https://homesliced3d.com/funkdafied-basher-x/
#$ FORCE_OPTIONS_REVIEW: false

#$ INCLUDE: presets/4.5/tune/defaults.txt

# Use PID profile 0 unless the user changes after applying.
profile 0

# -- Simplified tuning baseline --
set simplified_master_multiplier = 180
set simplified_d_gain = 120
set simplified_dmax_gain = 0
set simplified_feedforward_gain = 80
set simplified_pitch_pi_gain = 105
set simplified_dterm_filter = OFF
set simplified_dterm_filter_multiplier = 10

simplified_tuning apply

# -- PID tuning --
set iterm_rotation = ON
set iterm_relax_cutoff = 10
set p_pitch = 88
set i_pitch = 158
set d_pitch = 73
set f_pitch = 188
set p_roll = 81
set i_roll = 144
set d_roll = 64
set f_roll = 172
set p_yaw = 81
set i_yaw = 144
set f_yaw = 172
set dmax_roll = 64
set dmax_pitch = 73
set dmax_yaw = 0

# -- Filters --
#$ OPTION BEGIN (CHECKED): FILTERS RECOMMENDED FOR CLEAN BUILD
set simplified_gyro_filter = OFF
set gyro_lpf1_static_hz = 0
set gyro_lpf2_static_hz = 1000
set gyro_lpf1_dyn_min_hz = 0
set gyro_lpf1_dyn_max_hz = 0

set dyn_notch_count = 1
set dyn_notch_q = 800

set rpm_filter_weights = 100,20,100
set rpm_filter_min_hz = 115
set rpm_filter_fade_range_hz = 75

set dterm_lpf1_type = BIQUAD
set dterm_lpf1_static_hz = 78
set dterm_lpf1_dyn_min_hz = 80
set dterm_lpf2_static_hz = 0
#$ OPTION END

# -- Other Requirements --
set dshot_bidir = ON
